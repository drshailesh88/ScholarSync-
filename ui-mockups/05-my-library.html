<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScholarSync - My Library</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=Merriweather:ital,wght@0,300;0,400;0,700;1,300&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Plus Jakarta Sans', 'sans-serif'],
                        serif: ['Merriweather', 'serif'],
                    },
                    colors: {
                        brand: {
                            50: '#eef2ff',
                            100: '#e0e7ff',
                            200: '#c7d2fe',
                            300: '#a5b4fc',
                            400: '#818cf8',
                            500: '#6366f1',
                            600: '#4f46e5',
                            700: '#4338ca',
                        }
                    }
                }
            }
        }
    </script>

    <style>
        .text-gradient {
            background: linear-gradient(135deg, #c7d2fe 0%, #818cf8 30%, #6366f1 60%, #a78bfa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .dot-pattern {
            background-image: radial-gradient(rgba(99, 102, 241, 0.08) 1px, transparent 1px);
            background-size: 24px 24px;
        }

        .sidebar-glow {
            background: linear-gradient(180deg, rgba(99, 102, 241, 0.08) 0%, transparent 50%);
        }

        .glass-modal {
            background: rgba(2, 6, 23, 0.7);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
        }

        .hover-lift {
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s ease;
        }
        .hover-lift:hover {
            transform: translateY(-2px);
        }

        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.08); border-radius: 3px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: rgba(255, 255, 255, 0.15); }

        html { scroll-behavior: smooth; }
    </style>
</head>

<body class="bg-slate-950 text-slate-200 font-sans antialiased h-screen flex overflow-hidden" x-data="{
    citationOpen: false,
    activeFolder: 'all',
    citationFormat: 'apa'
}">

    <!-- ==================== ICON SIDEBAR ==================== -->
    <aside class="w-[60px] bg-slate-950 border-r border-white/5 flex flex-col items-center py-5 gap-1 shrink-0 relative z-20">
        <!-- Logo -->
        <a href="01-landing-page.html" class="mb-6">
            <div class="w-9 h-9 bg-brand-500 rounded-lg flex items-center justify-center shadow-lg shadow-brand-500/25">
                <i class="ph-bold ph-graduation-cap text-white text-base"></i>
            </div>
        </a>

        <!-- Nav icons -->
        <nav class="flex flex-col gap-1 w-full px-2">
            <a href="03-dashboard.html" class="w-9 h-9 mx-auto flex items-center justify-center rounded-xl text-slate-500 hover:text-white hover:bg-white/5 transition-all" title="Dashboard">
                <i class="ph ph-squares-four text-xl"></i>
            </a>
            <a href="04-my-projects.html" class="w-9 h-9 mx-auto flex items-center justify-center rounded-xl text-slate-500 hover:text-white hover:bg-white/5 transition-all" title="Projects">
                <i class="ph ph-file-text text-xl"></i>
            </a>
            <a href="#" class="w-9 h-9 mx-auto flex items-center justify-center rounded-xl bg-brand-500/15 text-brand-400 transition-all relative" title="Library">
                <div class="absolute left-0 top-1/2 -translate-y-1/2 w-[3px] h-4 bg-brand-500 rounded-r-full"></div>
                <i class="ph-bold ph-books text-xl"></i>
            </a>
        </nav>

        <!-- Bottom avatar -->
        <div class="mt-auto">
            <div class="w-8 h-8 rounded-full bg-gradient-to-br from-amber-400 to-orange-500 border-2 border-slate-800 cursor-pointer hover:scale-110 transition-transform flex items-center justify-center">
                <span class="text-white text-[9px] font-bold">RV</span>
            </div>
        </div>
    </aside>

    <!-- ==================== COLLECTIONS SIDEBAR ==================== -->
    <div class="flex-1 flex h-full">
        <aside class="w-[240px] bg-slate-900/30 border-r border-white/5 flex flex-col shrink-0">
            <!-- Header -->
            <div class="p-5 border-b border-white/5 flex items-center justify-between">
                <h2 class="font-bold text-white text-sm">Collections</h2>
                <button class="text-slate-500 hover:text-brand-400 transition-colors"><i class="ph ph-plus-circle text-lg"></i></button>
            </div>

            <!-- Nav -->
            <nav class="flex-1 overflow-y-auto custom-scrollbar p-3 space-y-1">
                <button @click="activeFolder = 'all'" :class="activeFolder === 'all' ? 'bg-brand-500/10 text-brand-400 border-brand-500/20' : 'text-slate-400 border-transparent hover:bg-white/5 hover:text-white'" class="w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm transition-all border font-medium">
                    <i class="ph ph-files text-lg"></i>
                    <span>All Papers</span>
                    <span class="ml-auto text-[10px] opacity-60 font-semibold">142</span>
                </button>
                <button @click="activeFolder = 'fav'" :class="activeFolder === 'fav' ? 'bg-amber-500/10 text-amber-400 border-amber-500/20' : 'text-slate-400 border-transparent hover:bg-white/5 hover:text-white'" class="w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm transition-all border font-medium">
                    <i class="ph ph-star text-lg"></i>
                    <span>Favorites</span>
                    <span class="ml-auto text-[10px] opacity-60 font-semibold">12</span>
                </button>

                <!-- Folders -->
                <div class="pt-4 mt-3 border-t border-white/5">
                    <p class="px-3 text-[10px] font-bold text-slate-600 uppercase tracking-widest mb-3">Folders</p>
                    <button class="w-full flex items-center gap-3 px-3 py-2 rounded-xl text-sm text-slate-400 hover:bg-white/5 hover:text-white transition-all">
                        <i class="ph-fill ph-folder text-amber-400/70 text-lg"></i>
                        <span>Thesis: CRISPR</span>
                    </button>
                    <button class="w-full flex items-center gap-3 px-3 py-2 rounded-xl text-sm text-slate-400 hover:bg-white/5 hover:text-white transition-all">
                        <i class="ph-fill ph-folder text-sky-400/70 text-lg"></i>
                        <span>Biology 101</span>
                    </button>
                    <button class="w-full flex items-center gap-3 px-3 py-2 rounded-xl text-sm text-slate-400 hover:bg-white/5 hover:text-white transition-all">
                        <i class="ph-fill ph-folder text-purple-400/70 text-lg"></i>
                        <span>AI Ethics</span>
                    </button>
                </div>
            </nav>

            <!-- Upload button -->
            <div class="p-4 border-t border-white/5">
                <button class="w-full py-2.5 bg-brand-500 hover:bg-brand-600 text-white rounded-xl text-sm font-semibold transition-all flex items-center justify-center gap-2 shadow-lg shadow-brand-500/20">
                    <i class="ph-bold ph-upload-simple"></i> Upload PDF
                </button>
            </div>
        </aside>

        <!-- ==================== PAPERS LIST ==================== -->
        <main class="flex-1 flex flex-col relative">
            <div class="absolute inset-0 dot-pattern pointer-events-none"></div>

            <!-- Header -->
            <header class="h-16 bg-slate-950/80 backdrop-blur-xl border-b border-white/5 flex items-center justify-between px-6 shrink-0 relative z-10">
                <div class="relative w-96">
                    <i class="ph ph-magnifying-glass absolute left-3.5 top-2.5 text-slate-500"></i>
                    <input type="text" placeholder="Search title, author, or abstract..."
                        class="w-full pl-10 pr-4 py-2.5 bg-white/5 border border-white/5 rounded-xl text-sm text-white placeholder-slate-600 focus:ring-2 focus:ring-brand-500/30 focus:border-brand-500/30 outline-none transition-all">
                </div>

                <div class="flex items-center gap-2">
                    <button class="p-2.5 rounded-xl text-slate-500 hover:text-white hover:bg-white/5 transition-all border border-transparent hover:border-white/5" title="Filter">
                        <i class="ph ph-funnel text-lg"></i>
                    </button>
                    <button class="p-2.5 rounded-xl text-slate-500 hover:text-white hover:bg-white/5 transition-all border border-transparent hover:border-white/5" title="Sort">
                        <i class="ph ph-sort-ascending text-lg"></i>
                    </button>
                </div>
            </header>

            <!-- Paper list -->
            <div class="flex-1 overflow-y-auto custom-scrollbar p-6 space-y-3 relative z-10">

                <!-- Paper 1 -->
                <div class="group bg-slate-900/40 p-5 rounded-2xl border border-white/5 hover:border-brand-500/20 transition-all hover-lift cursor-pointer">
                    <div class="flex items-start gap-4">
                        <!-- Icon -->
                        <div class="w-11 h-11 rounded-xl bg-red-500/10 text-red-400 flex items-center justify-center shrink-0 border border-red-500/10">
                            <i class="ph ph-file-pdf text-xl"></i>
                        </div>

                        <!-- Content -->
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center gap-2.5 mb-1.5">
                                <h3 class="text-sm font-bold text-white truncate group-hover:text-brand-300 transition-colors">High-fidelity CRISPR-Cas9 nucleases with no detectable off-target effects</h3>
                                <span class="bg-emerald-400/10 text-emerald-400 text-[9px] font-bold px-2 py-0.5 rounded-full border border-emerald-400/20 shrink-0">Peer Reviewed</span>
                            </div>
                            <p class="text-xs text-slate-500">
                                Slaymaker et al. &mdash; <span class="italic text-slate-400">Nature</span> &middot; 2023
                            </p>

                            <!-- Action buttons -->
                            <div class="flex items-center gap-2 mt-4">
                                <button @click="citationOpen = true" class="px-3 py-1.5 bg-brand-500/10 text-brand-400 rounded-lg text-[11px] font-bold hover:bg-brand-500/20 transition-all flex items-center gap-1.5 border border-brand-500/10">
                                    <i class="ph-bold ph-quotes text-xs"></i> Cite
                                </button>
                                <button class="px-3 py-1.5 bg-white/5 text-slate-400 rounded-lg text-[11px] font-medium hover:bg-white/10 hover:text-white transition-all flex items-center gap-1.5 border border-white/5">
                                    <i class="ph ph-chat-centered-text text-xs"></i> Chat with PDF
                                </button>
                                <div class="flex items-center gap-0.5 ml-auto">
                                    <button class="p-1.5 rounded-lg text-slate-600 hover:text-amber-400 hover:bg-amber-400/10 transition-all"><i class="ph ph-star text-sm"></i></button>
                                    <button class="p-1.5 rounded-lg text-slate-600 hover:text-red-400 hover:bg-red-400/10 transition-all"><i class="ph ph-trash text-sm"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Paper 2 -->
                <div class="group bg-slate-900/40 p-5 rounded-2xl border border-white/5 hover:border-brand-500/20 transition-all hover-lift cursor-pointer">
                    <div class="flex items-start gap-4">
                        <div class="w-11 h-11 rounded-xl bg-sky-500/10 text-sky-400 flex items-center justify-center shrink-0 border border-sky-500/10">
                            <i class="ph ph-globe text-xl"></i>
                        </div>

                        <div class="flex-1 min-w-0">
                            <div class="flex items-center gap-2.5 mb-1.5">
                                <h3 class="text-sm font-bold text-white truncate group-hover:text-brand-300 transition-colors">Ethical implications of germline editing in human embryos</h3>
                                <span class="bg-amber-400/10 text-amber-400 text-[9px] font-bold px-2 py-0.5 rounded-full border border-amber-400/20 shrink-0">Web Source</span>
                            </div>
                            <p class="text-xs text-slate-500">
                                National Institutes of Health &middot; 2022
                            </p>

                            <div class="flex items-center gap-2 mt-4 opacity-0 group-hover:opacity-100 transition-opacity">
                                <button @click="citationOpen = true" class="px-3 py-1.5 bg-brand-500/10 text-brand-400 rounded-lg text-[11px] font-bold hover:bg-brand-500/20 transition-all flex items-center gap-1.5 border border-brand-500/10">
                                    <i class="ph-bold ph-quotes text-xs"></i> Cite
                                </button>
                                <button class="px-3 py-1.5 bg-white/5 text-slate-400 rounded-lg text-[11px] font-medium hover:bg-white/10 hover:text-white transition-all flex items-center gap-1.5 border border-white/5">
                                    <i class="ph ph-arrow-square-out text-xs"></i> Visit Link
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Paper 3 -->
                <div class="group bg-slate-900/40 p-5 rounded-2xl border border-white/5 hover:border-brand-500/20 transition-all hover-lift cursor-pointer">
                    <div class="flex items-start gap-4">
                        <div class="w-11 h-11 rounded-xl bg-red-500/10 text-red-400 flex items-center justify-center shrink-0 border border-red-500/10">
                            <i class="ph ph-file-pdf text-xl"></i>
                        </div>

                        <div class="flex-1 min-w-0">
                            <div class="flex items-center gap-2.5 mb-1.5">
                                <h3 class="text-sm font-bold text-white truncate group-hover:text-brand-300 transition-colors">A systematic review of Cas9 variants</h3>
                                <span class="bg-emerald-400/10 text-emerald-400 text-[9px] font-bold px-2 py-0.5 rounded-full border border-emerald-400/20 shrink-0">Peer Reviewed</span>
                            </div>
                            <p class="text-xs text-slate-500">
                                Zhang, Y. &mdash; <span class="italic text-slate-400">Cell Review</span> &middot; 2024
                            </p>

                            <div class="flex items-center gap-2 mt-4 opacity-0 group-hover:opacity-100 transition-opacity">
                                <button @click="citationOpen = true" class="px-3 py-1.5 bg-brand-500/10 text-brand-400 rounded-lg text-[11px] font-bold hover:bg-brand-500/20 transition-all flex items-center gap-1.5 border border-brand-500/10">
                                    <i class="ph-bold ph-quotes text-xs"></i> Cite
                                </button>
                                <button class="px-3 py-1.5 bg-white/5 text-slate-400 rounded-lg text-[11px] font-medium hover:bg-white/10 hover:text-white transition-all flex items-center gap-1.5 border border-white/5">
                                    <i class="ph ph-chat-centered-text text-xs"></i> Chat with PDF
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <!-- ==================== CITATION MODAL ==================== -->
    <div x-show="citationOpen" class="fixed inset-0 z-50 glass-modal flex items-center justify-center p-4" x-transition:enter="transition ease-out duration-200" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="transition ease-in duration-150" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0">
        <div @click.away="citationOpen = false" class="bg-slate-900 border border-white/10 rounded-2xl shadow-2xl shadow-brand-500/10 w-full max-w-lg overflow-hidden" x-transition:enter="transition ease-out duration-200 delay-75" x-transition:enter-start="opacity-0 scale-95" x-transition:enter-end="opacity-100 scale-100">

            <!-- Modal Header -->
            <div class="bg-brand-500/10 border-b border-white/5 p-5 flex justify-between items-center">
                <h3 class="font-bold text-white flex items-center gap-2.5">
                    <div class="w-8 h-8 bg-brand-500/20 rounded-lg flex items-center justify-center">
                        <i class="ph-bold ph-quotes text-brand-400"></i>
                    </div>
                    Generate Citation
                </h3>
                <button @click="citationOpen = false" class="w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center text-slate-400 hover:text-white transition-all">
                    <i class="ph ph-x text-lg"></i>
                </button>
            </div>

            <!-- Modal Content -->
            <div class="p-6">
                <!-- Format tabs -->
                <div class="flex gap-1.5 mb-5 bg-white/5 p-1 rounded-xl border border-white/5">
                    <button @click="citationFormat = 'apa'" :class="citationFormat === 'apa' ? 'bg-brand-500/20 text-brand-400 shadow-sm border-brand-500/20' : 'text-slate-500 hover:text-slate-300 border-transparent'" class="flex-1 py-2 text-xs font-bold rounded-lg transition-all border">APA 7</button>
                    <button @click="citationFormat = 'mla'" :class="citationFormat === 'mla' ? 'bg-brand-500/20 text-brand-400 shadow-sm border-brand-500/20' : 'text-slate-500 hover:text-slate-300 border-transparent'" class="flex-1 py-2 text-xs font-bold rounded-lg transition-all border">MLA 9</button>
                    <button @click="citationFormat = 'chi'" :class="citationFormat === 'chi' ? 'bg-brand-500/20 text-brand-400 shadow-sm border-brand-500/20' : 'text-slate-500 hover:text-slate-300 border-transparent'" class="flex-1 py-2 text-xs font-bold rounded-lg transition-all border">Chicago</button>
                </div>

                <!-- Citation output -->
                <div class="bg-slate-950/50 border border-white/5 rounded-xl p-5 mb-5 relative group">
                    <p class="font-serif text-sm leading-relaxed text-slate-300" x-show="citationFormat === 'apa'">
                        Slaymaker, I. M., et al. (2023). High-fidelity CRISPR-Cas9 nucleases with no detectable genome-wide off-target effects. <em class="text-brand-300">Nature</em>, 351(6269), 809-815.
                    </p>
                    <p class="font-serif text-sm leading-relaxed text-slate-300" x-show="citationFormat === 'mla'">
                        Slaymaker, Ian M., et al. "High-fidelity CRISPR-Cas9 nucleases with no detectable genome-wide off-target effects." <em class="text-brand-300">Nature</em> 351.6269 (2023): 809-815.
                    </p>
                    <p class="font-serif text-sm leading-relaxed text-slate-300" x-show="citationFormat === 'chi'">
                        Slaymaker, Ian M., et al. "High-fidelity CRISPR-Cas9 nucleases with no detectable genome-wide off-target effects." <em class="text-brand-300">Nature</em> 351, no. 6269 (2023): 809-815.
                    </p>

                    <button class="absolute top-3 right-3 p-2 bg-white/5 border border-white/10 rounded-lg text-slate-500 hover:text-brand-400 hover:border-brand-500/20 transition-all" title="Copy">
                        <i class="ph ph-copy text-sm"></i>
                    </button>
                </div>

                <!-- In-text citation -->
                <div>
                    <h4 class="text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2.5">In-text Citation</h4>
                    <div class="bg-slate-950/50 border border-white/5 rounded-xl p-4 flex justify-between items-center">
                        <span class="font-serif text-sm text-slate-300" x-show="citationFormat === 'apa'">(Slaymaker et al., 2023)</span>
                        <span class="font-serif text-sm text-slate-300" x-show="citationFormat === 'mla'">(Slaymaker et al. 809)</span>
                        <span class="font-serif text-sm text-slate-300" x-show="citationFormat === 'chi'">(Slaymaker et al. 2023, 809)</span>
                        <button class="p-2 text-slate-500 hover:text-brand-400 transition-colors" title="Copy">
                            <i class="ph ph-copy text-sm"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Modal Footer -->
            <div class="p-4 border-t border-white/5 flex items-center justify-between">
                <span class="text-[10px] text-slate-600">Auto-formatted from source metadata</span>
                <button @click="citationOpen = false" class="px-5 py-2 bg-brand-500 hover:bg-brand-600 text-white text-sm font-semibold rounded-lg transition-all shadow-lg shadow-brand-500/20">
                    Done
                </button>
            </div>
        </div>
    </div>

</body>
</html>